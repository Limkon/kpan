/* public/style.css */
:root {
    --body-bg: #f8f9fa;
    --text-color: #212529;
    --muted-text-color: #6c757d;
    --container-bg: #ffffff;
    --container-border-color: #dee2e6; /* For general borders like header bottom */
    --link-color: #007bff;
    --link-hover-color: #0056b3;
    --heading-color: #343a40;
    --accent-color: #007bff; /* For things like h2 border */

    /* Input and Form Element Variables */
    --input-bg-color: #fff;
    --input-text-color: #495057;
    --input-border-color: #ced4da;
    --input-focus-border-color: #80bdff;
    --input-focus-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);

    /* Default Button Styles */
    --button-bg: #f0f0f0;
    --button-text-color: #212529;
    --button-border-color: #ced4da;
    --button-hover-bg: #e0e0e0;
    --button-hover-text-color: #212529;
    --button-hover-border-color: #adb5bd;
    
    /* Active/Selected Button State (e.g., active view toggle) */
    --button-active-bg: #007bff;
    --button-active-text-color: white;
    --button-active-border-color: #007bff;

    /* Primary Button (e.g., main call to action, confirm, search) */
    --button-primary-bg: #007bff;
    --button-primary-text-color: white;
    --button-primary-border-color: #007bff;
    --button-primary-hover-bg: #0056b3;
    --button-primary-hover-text-color: white;
    --button-primary-hover-border-color: #0056b3;

    /* Secondary Button (e.g., cancel, less prominent actions, main upload toggle) */
    --button-secondary-bg: #6c757d;
    --button-secondary-text-color: white;
    --button-secondary-border-color: #6c757d;
    --button-secondary-hover-bg: #5a6268;
    --button-secondary-hover-text-color: white;
    --button-secondary-hover-border-color: #545b62;
    
    /* Success Button (e.g. final upload button in drop area) */
    --button-success-bg: #28a745;
    --button-success-text-color: white;
    --button-success-border-color: #28a745;
    --button-success-hover-bg: #218838;
    --button-success-hover-text-color: white;
    --button-success-hover-border-color: #1e7e34;

    /* Message Variables */
    --message-success-text: #0f5132;
    --message-success-bg: #d1e7dd;
    --message-success-border: #badbcc;
    --message-error-text: #842029;
    --message-error-bg: #f8d7da;
    --message-error-border: #f5c2c7;
    --message-warning-text: #664d03;
    --message-warning-bg: #fff3cd;
    --message-warning-border: #ffecb5;
    --message-info-text: #052c65; /* For current path, search results info */
    --message-info-bg: #cfe2ff;
    --message-info-border: #b6d4fe;


    /* Specific component variables */
    --rename-form-bg: #ffffff;
    --rename-form-border-color: #cccccc;
    --progress-container-bg: #e9ecef;
    --progress-bar-fill-bg: #007bff;
    --progress-bar-fill-border: #0056b3;
    --progress-bar-text-color: white;
    --drop-area-border-color: #adb5bd;
    --drop-area-bg-color: #f0f2f5;
    --drop-area-highlight-border-color: #007bff;
    --drop-area-highlight-bg-color: #e9f5ff;

    --table-header-bg: #e9ecef;
    --table-border-color: #dee2e6;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
    background-color: var(--body-bg);
    color: var(--text-color);
    line-height: 1.6;
    margin: 0;
    padding: 10px;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
    box-sizing: border-box;
    transition: background-color 0.3s ease, color 0.3s ease;
}

.container {
    background-color: var(--container-bg);
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    width: 100%;
    max-width: 960px;
    margin-top: 15px;
    margin-bottom: 15px;
    box-sizing: border-box;
}

/* --- Authentication Page Specific Styles --- */
.auth-container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    width: 100%;
    min-height: 80vh; 
    padding: 20px;
    flex-grow: 1; /* Allow auth container to take available space */
}
.auth-form-container {
    background-color: var(--container-bg); /* Use variable */
    padding: 25px 30px; 
    border-radius: 8px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    width: 100%;
    max-width: 400px; 
    text-align: center; 
}
.auth-form-container h1 {
    font-size: 1.8em; 
    margin-bottom: 25px;
    color: var(--heading-color); /* Use variable */
}
.auth-form-container .form-group {
    margin-bottom: 20px;
    text-align: left; 
}
.auth-form-container label {
    display: block;
    margin-bottom: 8px; 
    font-weight: 600;
    color: var(--text-color); /* Use variable */
}
.auth-form-container input[type="text"],
.auth-form-container input[type="password"] {
    width: 100%;
    padding: 12px 15px; 
    font-size: 1em;
    margin-bottom: 0; 
    /* Inherits general input styles */
}
.auth-form-container .full-width-button {
    width: 100%;
    padding: 12px 15px; 
    font-size: 1.05em;
    margin-top: 10px; 
    margin-bottom: 0;
    /* Inherits general button styles */
}
.auth-form-container .auth-switch {
    margin-top: 20px;
    font-size: 0.9em;
    color: var(--muted-text-color); /* Use variable */
}
.auth-form-container .auth-switch a {
    color: var(--link-color); /* Use variable */
    font-weight: 500;
}
.auth-form-container .auth-switch a:hover {
    color: var(--link-hover-color);
}


/* --- Header Styling --- */
header {
    display: flex;
    flex-direction: column; 
    align-items: flex-start; 
    justify-content: space-between; 
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 1px solid var(--container-border-color); /* Use variable */
    width: 100%; 
}
header h1 { 
    margin: 0 0 10px 0; 
    font-size: 1.6em; 
    color: var(--heading-color); /* Use variable */
    flex-shrink: 0; 
}
.header-controls { 
    display: flex;
    align-items: center;
    gap: 20px; 
    width: 100%; 
}
header nav { 
    display: flex; 
    flex-wrap: wrap; 
    gap: 15px; 
    align-items: center;
}
header nav a { 
    text-decoration: none; 
    color: var(--link-color); /* Use variable */
    font-weight: 500; 
    padding: 5px 0; 
}
header nav a:hover {
    color: var(--link-hover-color);
}

/* --- Theme Switcher Styling (In Header or Page Top) --- */
.theme-switcher-container {
    display: flex; 
    align-items: center;
    gap: 8px; 
    padding: 5px; 
    background-color: transparent; 
    border-radius: 6px;
    margin-left: auto; /* Pushes to the right in .header-controls */
}
.theme-switcher-container .theme-label { 
    margin-right: 0; 
    font-size: 0.9em;
    color: var(--text-color); 
    font-weight: 500;
    white-space: nowrap; 
}
.theme-switcher-container select#theme-select { 
    padding: 6px 8px;
    font-size: 0.9em;
    border-radius: 4px;
    border: 1px solid var(--input-border-color); 
    margin: 0;
    width: auto;
    background-color: var(--input-bg-color); 
    color: var(--input-text-color); 
}

/* For pages like login/register where theme switcher is at the very top */
.page-header-container {
    width: 100%;
    max-width: 960px; /* Match .container or adjust */
    margin: 0 auto 10px auto;
    display: flex;
    justify-content: flex-end;
    padding: 10px 15px; /* Adjust padding to align with .container's content area */
    box-sizing: border-box;
}
.page-header-container .theme-switcher-container {
    margin-left: 0; /* No auto margin needed here as parent handles alignment */
}


/* General h1, h2 for non-auth pages */
.container > h1:not(.auth-form-container h1):not(header h1) { 
    text-align: center; 
    font-size: 1.8em; 
    margin-bottom: 15px; 
    color: var(--heading-color); /* Use variable */
}
h2 {
    font-size: 1.3em; 
    border-bottom: 2px solid var(--accent-color); /* Use variable */
    padding-bottom: 6px;
    margin-top: 25px; 
    margin-bottom: 15px; 
    color: var(--heading-color); /* Use variable */
}
h2:first-of-type { margin-top: 0; }

/* Unified Control Styling */
input[type="text"], input[type="password"],
select, textarea { /* Removed button and .button-link from here, will style them separately */
    display: inline-block;
    width: auto;
    padding: 10px 15px;
    border: 1px solid var(--input-border-color);
    border-radius: 5px;
    box-sizing: border-box;
    font-size: 0.95em;
    line-height: 1.5;
    vertical-align: middle;
    margin: 5px; /* Keep margin for spacing */
    background-color: var(--input-bg-color);
    color: var(--input-text-color);
    transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out, background-color 0.2s ease-in-out;
}
input[type="file"] {
    display: block; width: 100%; padding: 8px 10px; margin-bottom: 10px;
    border: 1px solid var(--input-border-color); 
    border-radius: 5px; box-sizing: border-box; font-size: 0.95em;
    background-color: var(--input-bg-color);
    color: var(--input-text-color);
}
textarea { min-height: 100px; } 

input[type="text"]:focus:not(.auth-form-container input),
input[type="password"]:focus:not(.auth-form-container input),
select:focus:not(#theme-select),
textarea:focus {
    border-color: var(--input-focus-border-color); 
    box-shadow: var(--input-focus-shadow); 
    outline: none;
}

/* General Button Styling */
button, button[type="submit"], .button-link {
    display: inline-block; /* Ensure display property */
    padding: 10px 15px;
    border-radius: 5px;
    box-sizing: border-box;
    font-size: 0.95em;
    line-height: 1.5;
    vertical-align: middle;
    margin: 5px; /* Keep margin for spacing */
    cursor: pointer;
    font-weight: 500;
    text-decoration: none;
    text-align: center;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05);
    transition: background-color 0.2s ease-in-out, border-color 0.2s ease-in-out, color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;

    /* Default to primary button style */
    background-color: var(--button-primary-bg);
    color: var(--button-primary-text-color);
    border: 1px solid var(--button-primary-border-color);
}
button:hover, button[type="submit"]:hover, .button-link:hover {
    background-color: var(--button-primary-hover-bg);
    color: var(--button-primary-hover-text-color);
    border-color: var(--button-primary-hover-border-color);
    text-decoration: none; /* Keep from original */
    box-shadow: 0 2px 4px rgba(0,0,0,0.1); /* Keep from original */
}

/* Secondary Buttons */
button.secondary, .button-link.secondary {
    background-color: var(--button-secondary-bg);
    color: var(--button-secondary-text-color);
    border-color: var(--button-secondary-border-color);
}
button.secondary:hover, .button-link.secondary:hover {
    background-color: var(--button-secondary-hover-bg);
    color: var(--button-secondary-hover-text-color);
    border-color: var(--button-secondary-hover-border-color);
}

/* Success Buttons (e.g., final upload button) */
button.success, .button-link.success {
    background-color: var(--button-success-bg);
    color: var(--button-success-text-color);
    border-color: var(--button-success-border-color);
}
button.success:hover, .button-link.success:hover {
    background-color: var(--button-success-hover-bg);
    color: var(--button-success-hover-text-color);
    border-color: var(--button-success-hover-border-color);
}


.message { padding: 10px 12px; border-radius: 5px; margin-bottom: 15px; font-size: 0.95em; }
.message:not(.error-message):not(.warning-message) { /* Default success message */
    color: var(--message-success-text); 
    background-color: var(--message-success-bg); 
    border: 1px solid var(--message-success-border);
}
.error-message { 
    color: var(--message-error-text); 
    background-color: var(--message-error-bg); 
    border: 1px solid var(--message-error-border); 
}
.warning-message { 
    color: var(--message-warning-text); 
    background-color: var(--message-warning-bg); 
    border: 1px solid var(--message-warning-border); 
}


.current-path { 
    margin-bottom: 15px; padding: 10px; 
    background-color: var(--message-info-bg); /* Use info for current path */
    border: 1px solid var(--message-info-border);
    color: var(--message-info-text);
    border-radius: 5px; font-size: 0.9em; word-break: break-all; 
}
.current-path a { 
    font-weight: 500; 
    color: var(--link-color);
}
.current-path a:hover {
    color: var(--link-hover-color);
}


.file-browser-controls {
    margin-bottom: 20px; display: flex; flex-wrap: wrap; gap: 10px; align-items: center;
}
.file-browser-controls .control-form { display: flex; flex-grow: 1; gap: 8px; min-width: 200px; }
.file-browser-controls .control-form input[type="text"] { flex-grow: 1; margin: 0; } /* Handled by general input */
.file-browser-controls .control-form button { /* Search button */
    flex-shrink: 0; margin: 0;
    background-color: var(--button-primary-bg); /* Explicitly primary */
    color: var(--button-primary-text-color);
    border-color: var(--button-primary-border-color);
}
.file-browser-controls .control-form button:hover {
    background-color: var(--button-primary-hover-bg);
    border-color: var(--button-primary-hover-border-color);
}

.file-browser-controls .actions-group-left button,
.file-browser-controls #upload-actions-container button { /* Buttons like "New Text File", "Upload File/Folder" */
    margin:0;
    background-color: var(--button-bg); /* Use default neutral button style */
    color: var(--button-text-color);
    border-color: var(--button-border-color);
}
.file-browser-controls .actions-group-left button:hover,
.file-browser-controls #upload-actions-container button:hover {
    background-color: var(--button-hover-bg);
    color: var(--button-hover-text-color);
    border-color: var(--button-hover-border-color);
}
/* Main "Upload" toggle button specifically uses secondary style */
.file-browser-controls .upload-button-main {
    margin: 0; flex-shrink: 0;
    background-color: var(--button-secondary-bg);
    color: var(--button-secondary-text-color);
    border-color: var(--button-secondary-border-color);
}
.file-browser-controls .upload-button-main:hover {
    background-color: var(--button-secondary-hover-bg);
    color: var(--button-secondary-hover-text-color);
    border-color: var(--button-secondary-hover-border-color);
}


.view-toggle { display: flex; gap: 8px; margin-left: auto; } 
.view-toggle button { /* List/Grid buttons */
    margin: 0; flex-shrink: 0; font-size: 0.9em; /* from original */
    background-color: var(--button-bg); /* Default neutral style */
    color: var(--button-text-color);
    border: 1px solid var(--button-border-color);
}
.view-toggle button:hover {
    background-color: var(--button-hover-bg);
    color: var(--button-hover-text-color);
    border-color: var(--button-hover-border-color);
}
.view-toggle button.active { /* Active List/Grid button */
    background-color: var(--button-active-bg);
    color: var(--button-active-text-color);
    border-color: var(--button-active-border-color);
}

#upload-section { 
    display: none; padding: 15px; 
    border: 1px solid var(--input-border-color); /* Use input border for consistency */
    border-radius: 6px; margin-top: 15px; 
    background-color: var(--container-bg); /* Use container bg for consistency */
}
#upload-section h2 { margin-top: 0; font-size: 1.1em; color: var(--heading-color); }
#drop-area {
    border: 2px dashed var(--drop-area-border-color); 
    border-radius: 6px; padding: 25px; text-align: center;
    margin-bottom: 0; 
    background-color: var(--drop-area-bg-color);
}
#drop-area.highlight { 
    border-color: var(--drop-area-highlight-border-color); 
    background-color: var(--drop-area-highlight-bg-color); 
}
#drop-area p { margin: 0 0 10px 0; color: var(--muted-text-color); font-size: 0.9em; }
#drop-area label { color: var(--link-color); cursor: pointer; text-decoration: underline; font-weight: 500; }
#drop-area #upload-button { /* Final "Upload Selected Items" button */
    margin-top: 12px; width: 100%;
    background-color: var(--button-success-bg); /* Use success style */
    color: var(--button-success-text-color);
    border-color: var(--button-success-border-color);
}
#drop-area #upload-button:hover {
    background-color: var(--button-success-hover-bg);
    color: var(--button-success-hover-text-color);
    border-color: var(--button-success-hover-border-color);
}

#file-list-preview ul { list-style-type: none; padding-left: 0; margin-top: 10px; text-align: left; }
#file-list-preview li { font-size: 0.85em; color: var(--text-color); padding: 3px 0; }

#file-container ul { list-style-type: none; padding: 0; margin:0;}
.list-view li {
    padding: 10px; margin-bottom: -1px; display: flex; justify-content: space-between; align-items: center;
    border: 1px solid var(--container-border-color); 
    background-color: var(--container-bg);
    position: relative; 
}
.list-view li:first-child { border-top-left-radius: 5px; border-top-right-radius: 5px; }
.list-view li:last-child { border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; margin-bottom: 0; }
.list-view .file-entry { display: flex; align-items: center; flex-grow: 1; overflow: hidden; }
.list-view .file-icon-large, .list-view .file-icon { display: none !important; }
.list-view .file-name { font-weight: 500; color: var(--link-color); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-size: 0.95em; }
.list-view .file-entry a.file-name:hover { text-decoration: underline; }
.list-view .file-entry span.file-name { color: var(--text-color); } /* For non-link file names */
.list-view .file-actions-placeholder { min-width: 150px; text-align: right; font-size: 0.9em; color: var(--muted-text-color); }

.grid-view ul { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
.grid-view li {
    padding: 10px; min-height: 130px; 
    background-color: var(--container-bg); 
    border: 1px solid var(--container-border-color); 
    border-radius: 6px;
    text-align: center; display: flex; flex-direction: column; align-items: center;
    justify-content: flex-start; box-shadow: 0 1px 3px rgba(0,0,0,0.04);
    position: relative; 
}
.grid-view .file-icon { display: none !important; }
.grid-view .file-icon-large { font-size: 2.8em; margin-bottom: 6px; display: inline-block !important; line-height:1; }
.grid-view .file-icon-large.folder-icon { color: #ffc107; } /* Keep specific icon color or make variable */
.grid-view .file-name {
    font-size: 0.8em; font-weight: 500; color: var(--text-color); word-break: break-all;
    margin-bottom: 6px; line-height: 1.3; display: -webkit-box; -webkit-line-clamp: 2;
    -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; min-height: 2.2em;
}
.grid-view .file-actions { display: flex; flex-direction: column; gap: 4px; width: 100%; margin-top: auto; }
.grid-view .file-actions .action-link { 
    font-size: 0.75em; padding: 4px 6px; 
    background-color: var(--button-bg); /* Use default button style for these small links */
    color: var(--button-text-color);
    border: 1px solid var(--button-border-color);
    border-radius: 4px; display: block; 
}
.grid-view .file-actions .action-link:hover {
    background-color: var(--button-hover-bg);
    color: var(--button-hover-text-color);
    border-color: var(--button-hover-border-color);
}


.rename-form {
    display: none; position: absolute; left: 25px; right: 5px; top: calc(100% + 2px);
    background-color: var(--rename-form-bg); 
    padding: 12px;
    border: 1px solid var(--rename-form-border-color);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2); z-index: 100;
    border-radius: 6px; max-width: 400px; box-sizing: border-box;
}
.grid-view li .rename-form { 
    left: 50%; transform: translateX(-50%) translateY(5px); 
    width: calc(100% - 10px); max-width: 300px;
}
.rename-form form.inline-form { display: flex; gap: 8px; }
.rename-form input[type="text"] { flex-grow: 1; /* Inherits general input styles */ }
.rename-form button { /* Confirm/Cancel in rename form */
    /* Inherits general button styles, confirm might be primary, cancel secondary */
}


.admin-table-container { overflow-x: auto; }
table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 0.9em; min-width: 500px; }
table th, table td { 
    border: 1px solid var(--table-border-color); 
    padding: 8px 10px; text-align: left; 
    color: var(--text-color);
}
table th { 
    background-color: var(--table-header-bg); 
    font-weight: 600; 
    color: var(--heading-color); /* Or a specific table header text color */
}
table td .action-link, table td button.action-link { font-size: 0.85em; padding: 4px 6px; margin: 2px; /* Inherits general button styles */ }
table td form { display: inline-flex !important; gap: 5px !important; align-items: center !important; flex-wrap: wrap; }
table td form input[type="password"] { width: 120px !important; padding: 5px !important; font-size: 0.85em !important; margin:0; }
table td form button { margin:0; }

textarea#fileContent { 
    min-height: 50vh; font-size: 0.9rem; margin:0; 
    /* Inherits general textarea styles */
}
.editor-actions { margin-top: 15px; text-align: right; display: flex; gap: 10px; justify-content: flex-end; }
.editor-actions button { margin-left: 0; margin-bottom:0; }

.note { 
    font-size: 0.85em; margin-top: 15px; padding: 10px; 
    background-color: var(--message-info-bg); /* Use info style for notes */
    border-left: 4px solid var(--accent-color); 
    color: var(--message-info-text);
}

/* Responsive adjustments */
@media (min-width: 768px) { 
    header {
        flex-direction: row;
        align-items: center; 
    }
    header h1 {
        margin-bottom: 0; 
        font-size: 1.75em;
    }
    .header-controls {
        width: auto; 
        margin-left: auto; 
    }
    .container { padding: 20px 25px; }
    .auth-form-container { padding: 30px 40px; }
    h1:not(.auth-form-container h1):not(header h1) { font-size: 2em; }
    h2 { font-size: 1.4em; }
    .grid-view ul { grid-template-columns: repeat(3, 1fr); }
    .file-browser-controls .control-form { min-width: 300px; }
}

@media (min-width: 576px) { 
    .file-browser-controls { flex-direction: row; align-items: center; }
    .file-browser-controls .control-form { flex-grow: 0; min-width: 250px; }
    /* .file-browser-controls .upload-button-main { width: auto; } */ /* Already handled by button default */
    #drop-area #upload-button { width: auto; } /* Make specific upload button not full width on larger screens */
    .grid-view ul { grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); }
}

@media (min-width: 992px) {
     .grid-view ul { grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); }
}

/* Dark theme specific styles */
body.dark-theme {
    --body-bg: #1e1e1e; /* Darker body */
    --text-color: #e0e0e0;
    --muted-text-color: #adb5bd;
    --container-bg: #2c2c2c; 
    --container-border-color: #444; 
    --link-color: #5893fa; /* Lighter blue for dark mode */
    --link-hover-color: #7da FFA;
    --heading-color: #f0f0f0;
    --accent-color: #5893fa;

    /* Input and Form Element Variables - Dark */
    --input-bg-color: #3a3a3a; /* Slightly lighter than container for inputs */
    --input-text-color: #e0e0e0;
    --input-border-color: #555;
    --input-focus-border-color: #5893fa;
    --input-focus-shadow: 0 0 0 0.2rem rgba(88, 147, 250, 0.25);

    /* Default Button Styles - Dark */
    --button-bg: #484848; 
    --button-text-color: #e0e0e0;
    --button-border-color: #555;
    --button-hover-bg: #585858;
    --button-hover-text-color: #e0e0e0;
    --button-hover-border-color: #666;
    
    /* Active/Selected Button State - Dark */
    --button-active-bg: #5865F2; /* Discord-like purple */
    --button-active-text-color: white;
    --button-active-border-color: #5865F2;

    /* Primary Button - Dark */
    --button-primary-bg: #5865F2; 
    --button-primary-text-color: white;
    --button-primary-border-color: #5865F2;
    --button-primary-hover-bg: #4752C4;
    --button-primary-hover-text-color: white;
    --button-primary-hover-border-color: #4752C4;

    /* Secondary Button - Dark */
    --button-secondary-bg: #4F545C; 
    --button-secondary-text-color: white;
    --button-secondary-border-color: #4F545C;
    --button-secondary-hover-bg: #40444B;
    --button-secondary-hover-text-color: white;
    --button-secondary-hover-border-color: #40444B;

    /* Success Button - Dark */
    --button-success-bg: #3BA55D; /* Discord-like green */
    --button-success-text-color: white;
    --button-success-border-color: #3BA55D;
    --button-success-hover-bg: #2D7D46;
    --button-success-hover-text-color: white;
    --button-success-hover-border-color: #2D7D46;
    
    /* Message Variables - Dark */
    --message-success-text: #a3cfbb;
    --message-success-bg: #1e4639;
    --message-success-border: #2a5c4a;
    --message-error-text: #f5c2c7;
    --message-error-bg: #5c2c31;
    --message-error-border: #842029;
    --message-warning-text: #fff3cd;
    --message-warning-bg: #664d03;
    --message-warning-border: #856404;
    --message-info-text: #b6d4fe; 
    --message-info-bg: #2c3e50;
    --message-info-border: #3e5b76;

    /* Specific component variables - Dark */
    --rename-form-bg: #3a3a3a;
    --rename-form-border-color: #555;
    --progress-container-bg: #495057;
    --progress-bar-fill-bg: #5865F2;
    --progress-bar-fill-border: #4752C4;
    --progress-bar-text-color: white;
    --drop-area-border-color: #555;
    --drop-area-bg-color: #333;
    --drop-area-highlight-border-color: #5865F2;
    --drop-area-highlight-bg-color: #3a334a; /* Darker highlight */

    --table-header-bg: #3a3a3a;
    --table-border-color: #444;
}

.dark-theme .theme-switcher-container .theme-label {
    color: var(--text-color); /* Inherits from body.dark-theme */
}
.dark-theme .theme-switcher-container select#theme-select {
    background-color: var(--input-bg-color);
    color: var(--input-text-color);
    border-color: var(--input-border-color);
}
.dark-theme .rename-form { 
    background-color: var(--rename-form-bg); 
    border-color: var(--rename-form-border-color);
    color: var(--text-color); 
}
.dark-theme .rename-form input[type="text"] { 
    background-color: var(--input-bg-color); /* Use general input var */
    color: var(--input-text-color);
    border-color: var(--input-border-color);
}
/* Ensure specific dark theme overrides for elements if needed */
.dark-theme .list-view .file-entry span.file-name {
    color: var(--text-color);
}
.dark-theme .grid-view .file-icon-large.folder-icon { 
    color: #e0a800; /* Darker yellow for dark theme folder */
}
