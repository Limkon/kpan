/* public/style.css */
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
    background-color: #f8f9fa; /* Slightly lighter background */
    color: #212529; /* Darker text for better contrast */
    line-height: 1.6;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column; /* For potential footer */
    align-items: center;
    min-height: 100vh;
}

.container {
    background-color: #ffffff;
    padding: 20px 25px;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    width: 90%;
    max-width: 960px; /* Wider container for file browser */
    margin-top: 25px;
    margin-bottom: 25px;
}

header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 1px solid #dee2e6;
}

header h1 {
    margin: 0;
    font-size: 1.75em; /* Slightly smaller main title */
    color: #343a40;
}

header nav a {
    margin-left: 18px;
    text-decoration: none;
    color: #007bff;
    font-weight: 500;
    transition: color 0.2s ease-in-out;
}
header nav a:hover, header nav a:focus {
    color: #0056b3;
    text-decoration: underline;
}

h1 { /* For standalone page titles like Login/Register */
    text-align: center;
    font-size: 2em;
    margin-bottom: 20px;
    color: #343a40;
}

h2 { /* Section titles */
    font-size: 1.4em;
    border-bottom: 2px solid #007bff;
    padding-bottom: 8px;
    margin-top: 30px;
    margin-bottom: 20px;
    color: #343a40;
}
h2:first-of-type {
    margin-top: 0; /* Remove top margin for the first h2 in a container */
}


form div {
    margin-bottom: 16px;
}

label {
    display: block;
    margin-bottom: 6px;
    font-weight: 600; /* Slightly bolder labels */
    color: #495057;
}

input[type="text"],
input[type="password"],
input[type="file"],
select,
textarea {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid #ced4da;
    border-radius: 5px;
    box-sizing: border-box;
    font-size: 0.95em;
    transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}
input[type="text"]:focus,
input[type="password"]:focus,
input[type="file"]:focus,
select:focus,
textarea:focus {
    border-color: #80bdff;
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
    outline: none;
}
input[type="file"] { padding: 8px 10px; }


button,
button[type="submit"] {
    background-color: #007bff;
    color: white;
    padding: 10px 16px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 0.95em;
    font-weight: 500;
    transition: background-color 0.2s ease-in-out, box-shadow 0.15s ease-in-out;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}
button:hover,
button[type="submit"]:hover {
    background-color: #0069d9;
    box-shadow: 0 2px 5px rgba(0,0,0,0.15);
}
button:active,
button[type="submit"]:active {
    background-color: #005cbf;
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
}

button[type="button"].secondary, /* For cancel or less prominent actions */
.action-link.secondary {
    background-color: #6c757d;
    border-color: #6c757d;
}
button[type="button"].secondary:hover,
.action-link.secondary:hover {
    background-color: #5a6268;
    border-color: #545b62;
}


a { color: #007bff; text-decoration: none; }
a:hover { text-decoration: underline; }

.message {
    color: #0f5132;
    background-color: #d1e7dd;
    border: 1px solid #badbcc;
    padding: 12px 15px;
    border-radius: 5px;
    margin-bottom: 20px;
}
.error-message {
    color: #842029;
    background-color: #f8d7da;
    border: 1px solid #f5c2c7;
}

/* File Browser Specific Styles */
.current-path {
    margin-bottom: 20px;
    padding: 12px 15px;
    background-color: #e9ecef;
    border-radius: 5px;
    font-size: 0.9em;
    color: #495057;
    word-break: break-all;
}
.current-path a { font-weight: 500; }

.file-browser-controls {
    margin-bottom: 25px;
    display: flex;
    flex-wrap: wrap; /* Allow wrapping on smaller screens */
    gap: 12px;
    align-items: center;
}
.file-browser-controls form { display: inline-flex; gap: 8px; align-items: center; }
.file-browser-controls input[type="text"] {
    padding: 9px 10px;
    flex-grow: 1; /* Allow input to take space */
    min-width: 150px; /* Minimum width for usability */
}
.file-browser-controls button { padding: 9px 15px; }

.view-toggle { margin-left: auto; display: flex; gap: 8px; }
.view-toggle button {
    background-color: #6c757d;
    font-size: 0.85em;
    padding: 7px 12px;
}
.view-toggle button.active { background-color: #007bff; }

#drop-area {
    border: 2px dashed #adb5bd;
    border-radius: 6px;
    padding: 35px;
    text-align: center;
    margin-bottom: 25px;
    background-color: #f8f9fa;
    transition: background-color 0.2s ease, border-color 0.2s ease;
}
#drop-area.highlight { border-color: #007bff; background-color: #e9f5ff; }
#drop-area p { margin: 0 0 10px 0; color: #495057; font-size: 0.95em; }
#drop-area label { color: #007bff; cursor: pointer; text-decoration: underline; font-weight: 500; }
#drop-area #upload-button { margin-top: 12px; }
#file-list-preview ul { list-style-type: disc; padding-left: 20px; margin-top: 10px; }
#file-list-preview li { font-size: 0.85em; color: #343a40; }


/* List View */
.list-view ul { list-style-type: none; padding: 0; }
.list-view li {
    background-color: #fff;
    border: 1px solid #dee2e6;
    padding: 10px 15px;
    margin-bottom: -1px; /* Create a "connected" look */
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: background-color 0.15s ease;
}
.list-view li:first-child { border-top-left-radius: 5px; border-top-right-radius: 5px; }
.list-view li:last-child { border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; margin-bottom: 0; }
.list-view li:hover { background-color: #f8f9fa; }

.list-view .file-entry { display: flex; align-items: center; flex-grow: 1; overflow: hidden; }
.list-view .file-icon { font-size: 1.3em; margin-right: 12px; color: #6c757d; }
.list-view .file-icon.folder-icon { color: #ffc107; } /* Specific color for folder icon in list */
.list-view .file-name { font-weight: 500; color: #007bff; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.list-view .file-entry a.file-name:hover { text-decoration: underline; }
.list-view .file-entry .file-name { color: #212529; } /* Non-link file names */


.list-view .file-actions { white-space: nowrap; } /* Prevent actions from wrapping in list view */
.list-view .file-actions .action-link { margin-left: 12px; font-size: 0.85em; }


/* Grid View */
.grid-view ul {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
    gap: 18px;
    list-style-type: none;
    padding: 0;
}
.grid-view li {
    background-color: #fff;
    border: 1px solid #dee2e6;
    border-radius: 6px;
    padding: 15px;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start; /* Align items to top, actions will be at bottom via margin-top: auto */
    min-height: 160px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.04);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.grid-view li:hover { transform: translateY(-2px); box-shadow: 0 3px 7px rgba(0,0,0,0.08); }

.grid-view .file-icon-large { font-size: 3.8em; margin-bottom: 12px; color: #007bff; line-height: 1; }
.grid-view .file-icon-large.folder-icon { color: #ffc107; }

.grid-view .file-name {
    font-size: 0.9em;
    font-weight: 500;
    color: #343a40;
    word-break: break-all;
    margin-bottom: 10px;
    line-height: 1.3;
    /* Max 2 lines of text for name */
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
    min-height: 2.6em; /* Approximate height for 2 lines */
}
.grid-view .file-entry a.file-name { color: #007bff; }
.grid-view .file-entry a.file-name:hover { text-decoration: underline; }


.grid-view .file-actions {
    display: flex;
    flex-direction: column; /* Stack actions vertically in grid */
    gap: 6px;
    width: 100%;
    margin-top: auto; /* Push actions to the bottom */
}
.grid-view .file-actions .action-link {
    font-size: 0.8em;
    padding: 4px 8px;
    background-color: #f1f3f5;
    border-radius: 4px;
    color: #495057;
    display: block; /* Make links take full width */
    transition: background-color 0.15s ease;
}
.grid-view .file-actions .action-link:hover { background-color: #e9ecef; text-decoration: none; }
.grid-view .file-actions .delete-link { background-color: #f8d7da; color: #721c24; }
.grid-view .file-actions .delete-link:hover { background-color: #f1b0b7; }
.grid-view .file-actions .edit-link { background-color: #d1e7dd; color: #0f5132; }
.grid-view .file-actions .edit-link:hover { background-color: #badbcc; }


/* Rename Form */
.rename-form { display: none; margin-top: 10px; padding-top: 10px; border-top: 1px solid #eee; width:100%; }
.rename-form form { display: flex; gap: 8px; align-items: center; }
.rename-form input[type="text"] { flex-grow: 1; font-size: 0.9em; padding: 6px 8px; }
.rename-form button { font-size: 0.85em; padding: 6px 10px; }


/* Admin Table */
table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 0.9em; }
table th, table td { border: 1px solid #dee2e6; padding: 10px 12px; text-align: left; }
table th { background-color: #e9ecef; font-weight: 600; }
table td .action-link, table td button.action-link { font-size: 0.9em; padding: 5px 8px; }
table td form { display: inline-flex !important; gap: 5px !important; align-items: center !important; }
table td form input[type="password"] { width: 130px !important; padding: 6px 8px !important; font-size: 0.9em !important; }


/* Editor Page */
textarea#fileContent { /* Used in edit-file.ejs */
    width: 100%;
    min-height: 60vh; /* Taller editor */
    padding: 15px;
    border: 1px solid #ced4da;
    border-radius: 5px;
    font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
    font-size: 0.9rem;
    line-height: 1.6;
    box-sizing: border-box;
    resize: vertical;
}
.editor-actions { margin-top: 20px; text-align: right; }
.editor-actions button { margin-left: 10px; }

.note {
    font-size: 0.85em;
    margin-top: 20px;
    color: #495057;
    padding: 12px 15px;
    background-color: #f1f3f5;
    border-left: 4px solid #007bff;
    border-radius: 0 4px 4px 0;
}
